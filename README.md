# 🌸 KouriChat - 长记忆与思维链修改版

本次更新基于官方1.4.2版本 /help菜单中的内容依然可用（暂无清除上下文）
----------------------------
1.0内容
## 这个版本正式引入了思维链（COT）功能，辅助ai更好理解扮演角色

- 修改了messsage.py，与base.md，角色在正式回复前，会返回一段以'[think][/think]'包裹的思维内容，会被提取至日志，不参与正文回复
- 默认思维链采用**日语**（据说这样可以增加gemini智商），如有需要可以修改base.md
- 可以在人设中增加“# thinking”条目引导角色思维与分阶段控制
- 测试模型为gemini exp 325与gemini pre 506 不保证deepseek等模型完全遵从指令

## 记忆模式
- 现在的core_memory.json变成了long_memory_buffer.txt
- 短记忆对话沿用官方50轮滚动上下文，同时读取整个长记忆文件
- 在对话30轮后会发送最近的30轮短记忆进行一次总结，写入long_memory_buffer.txt，可以在代码中修改触发条数和返回条数




